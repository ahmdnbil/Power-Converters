Version 4
SHEET 1 1648 776
WIRE -1456 -688 -1696 -688
WIRE -1360 -688 -1376 -688
WIRE -1200 -688 -1360 -688
WIRE -1072 -688 -1200 -688
WIRE -976 -688 -1072 -688
WIRE -752 -688 -912 -688
WIRE -592 -688 -752 -688
WIRE -320 -688 -592 -688
WIRE -192 -688 -320 -688
WIRE -1200 -656 -1200 -688
WIRE -1072 -656 -1072 -688
WIRE -320 -640 -320 -688
WIRE -752 -624 -752 -688
WIRE -592 -624 -592 -688
WIRE 160 -608 112 -608
WIRE 512 -608 240 -608
WIRE -384 -592 -448 -592
WIRE -192 -592 -192 -688
WIRE -1696 -560 -1696 -688
WIRE -1200 -560 -1200 -592
WIRE -1072 -560 -1072 -592
WIRE -96 -560 -112 -560
WIRE 16 -560 -32 -560
WIRE 512 -560 512 -608
WIRE -1360 -496 -1360 -688
WIRE -1296 -496 -1360 -496
WIRE -1168 -496 -1216 -496
WIRE -592 -496 -592 -544
WIRE -448 -496 -448 -592
WIRE -448 -496 -592 -496
WIRE -320 -480 -320 -544
WIRE -112 -480 -112 -560
WIRE -112 -480 -320 -480
WIRE -96 -480 -112 -480
WIRE 240 -480 -16 -480
WIRE 336 -480 240 -480
WIRE 464 -480 336 -480
WIRE -1168 -448 -1168 -496
WIRE -1120 -448 -1168 -448
WIRE -752 -448 -752 -544
WIRE -752 -448 -928 -448
WIRE -320 -448 -320 -480
WIRE 240 -448 240 -480
WIRE -592 -432 -592 -496
WIRE -448 -400 -448 -496
WIRE -384 -400 -448 -400
WIRE -112 -400 -112 -480
WIRE -80 -400 -112 -400
WIRE 16 -400 16 -560
WIRE 16 -400 -16 -400
WIRE 512 -384 512 -464
WIRE 752 -384 512 -384
WIRE 960 -384 832 -384
WIRE 1104 -384 960 -384
WIRE -1696 -368 -1696 -480
WIRE -1120 -352 -1264 -352
WIRE -880 -352 -928 -352
WIRE -752 -352 -752 -448
WIRE -640 -352 -752 -352
WIRE 240 -352 240 -384
WIRE 240 -352 160 -352
WIRE 336 -352 336 -400
WIRE 336 -352 240 -352
WIRE 512 -352 512 -384
WIRE 512 -352 336 -352
WIRE 1104 -336 1104 -384
WIRE 960 -320 960 -384
WIRE -880 -304 -880 -352
WIRE -592 -304 -592 -336
WIRE -592 -304 -880 -304
WIRE -320 -304 -320 -352
WIRE -320 -304 -592 -304
WIRE -192 -304 -192 -528
WIRE -192 -304 -320 -304
WIRE 160 -304 160 -352
WIRE 160 -304 -192 -304
WIRE -1264 -288 -1264 -352
WIRE 512 -272 512 -352
WIRE -1328 -240 -1408 -240
WIRE 464 -192 304 -192
WIRE -1408 -176 -1408 -240
WIRE 304 -160 304 -192
WIRE 960 -128 960 -256
WIRE 1104 -128 1104 -256
WIRE -1264 -96 -1264 -192
WIRE 512 -80 512 -176
WIRE 512 -80 304 -80
WIRE 512 -32 512 -80
WIRE -1408 16 -1408 -96
FLAG 112 -608 0
FLAG 512 -32 0
FLAG 960 -128 0
FLAG 1104 -128 0
FLAG -1696 -368 0
FLAG -1200 -560 0
FLAG -1072 -560 0
FLAG -1408 16 0
FLAG -1264 -96 0
SYMBOL voltage 256 -608 R90
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 50
SYMBOL ind 736 -368 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 2m
SYMBOL cap 944 -320 R0
SYMATTR InstName C1
SYMATTR Value 100µ
SYMBOL current 1104 -336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value 2.5
SYMBOL voltage -1408 -192 R0
WINDOW 3 -360 146 Left 2
SYMATTR InstName V2
SYMATTR Value PWL repeat forever(0u 0 1u 5 49u 5 49.001u 0 100u 0)endrepeat
SYMBOL voltage 304 -176 R0
WINDOW 3 -426 177 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PWL repeat forever(0u 0 50u 0 50.001u 15 99u 15 99.001u 0 100u 0)endrepeat
SYMBOL res 320 -496 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res 0 -496 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 5
SYMBOL cap -32 -576 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 100n
SYMBOL diode -16 -416 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL npn -384 -640 R0
SYMATTR InstName Q1
SYMATTR Value 2N2222
SYMBOL pnp -384 -352 M180
SYMATTR InstName Q2
SYMATTR Value 2N5401
SYMBOL res -608 -640 R0
SYMATTR InstName R4
SYMATTR Value 4.7k
SYMBOL res -768 -640 R0
SYMATTR InstName R5
SYMATTR Value 2.2k
SYMBOL Optos\\PC817A -1024 -400 R0
SYMATTR InstName U5
SYMBOL diode -976 -672 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL cap -1088 -656 R0
SYMATTR InstName C3
SYMATTR Value 10µ
SYMBOL zener -1184 -592 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value BZX84C12VL
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res -1200 -512 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value .5k
SYMBOL res -1360 -704 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value .5k
SYMBOL voltage -1696 -576 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 12
SYMBOL npn -1328 -288 R0
SYMATTR InstName Q3
SYMATTR Value 2N2222
SYMBOL nmos -640 -432 R0
SYMATTR InstName M1
SYMATTR Value 2N7002
SYMBOL nmos 464 -560 R0
SYMATTR InstName M2
SYMATTR Value IRFZ44N
SYMBOL nmos 464 -272 R0
SYMATTR InstName M4
SYMATTR Value IRFZ44N
SYMBOL zener 256 -384 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMATTR Value BZX84C15VL
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL cap -208 -592 R0
SYMATTR InstName C4
SYMATTR Value 1µ
TEXT -192 -792 Left 2 !.tran 0 300m 4m 1m
